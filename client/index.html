<!DOCTYPE html>
<html class="dark" lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Legends of Learning - Multiplayer RPG</title>

  <!-- TAILWIND & FONTS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
    rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&amp;display=swap"
    rel="stylesheet" />

  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#00ff55",
            "secondary": "#00d4ff",
            "accent": "#cc00ff",
            "background-light": "#f2f2f2",
            "background-dark": "#121216",
            "surface-dark": "#1a1a20",
          },
          fontFamily: {
            "display": ["Space Grotesk", "sans-serif"]
          },
        },
      },
    }
  </script>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: #121216;
    }

    #app {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      z-index: 1;
    }

    /* Lobby Overlay Styles */
    #lobby-ui {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      z-index: 10;
      overflow-y: auto;
    }

    .hidden {
      display: none !important;
    }

    .pixel-border {
      box-shadow: 0 -4px 0 0 #000, 0 4px 0 0 #000, -4px 0 0 0 #000, 4px 0 0 0 #000;
    }

    .pixel-btn-green {
      box-shadow: inset -4px -4px 0px 0px #00a336;
    }

    .pixel-btn-blue {
      box-shadow: inset -4px -4px 0px 0px #008299;
    }

    .pixel-bg-pattern {
      background-image: radial-gradient(#202026 1px, transparent 1px);
      background-size: 20px 20px;
    }
  </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-white">

  <!-- PHASER CONTAINER -->
  <div id="app"></div>

  <!-- LOBBY OVERLAY -->
  <div id="lobby-ui" class="bg-background-dark">
    <!-- Background Decorative Pixel Blocks -->
    <div class="fixed inset-0 pointer-events-none overflow-hidden pixel-bg-pattern">
      <div class="absolute top-10 left-[10%] rotate-45 w-10 h-10 bg-[#202026] opacity-50 border-2 border-primary/20">
      </div>
      <div class="absolute top-40 left-[85%] w-10 h-10 bg-[#202026] opacity-50 border-2 border-secondary/20"></div>
      <div class="absolute bottom-20 left-[15%] rotate-12 w-10 h-10 bg-[#202026] opacity-50 border-2 border-accent/20">
      </div>
    </div>

    <div class="relative z-10 flex h-screen w-full flex-col">
      <!-- Top Navigation -->
      <header class="flex items-center justify-between border-b-4 border-black bg-surface-dark px-10 py-4">
        <div class="flex items-center gap-4">
          <div class="size-8 bg-primary pixel-border flex items-center justify-center">
            <span class="material-symbols-outlined text-background-dark font-bold">videogame_asset</span>
          </div>
          <h2 class="text-xl font-bold leading-tight tracking-tighter uppercase">Pixel Lobby <span
              class="text-primary">v2.0</span></h2>
        </div>
      </header>

      <!-- Main Content -->
      <main class="flex flex-1 flex-col md:flex-row w-full overflow-hidden">
        <!-- Host Room -->
        <section
          class="flex-1 flex flex-col items-center justify-center p-8 border-b-4 md:border-b-0 md:border-r-4 border-black relative">
          <div class="max-w-md w-full flex flex-col items-center text-center space-y-8">
            <div class="relative">
              <div class="w-32 h-32 bg-primary/10 border-4 border-primary flex items-center justify-center mb-4">
                <span class="material-symbols-outlined text-6xl text-primary">add_box</span>
              </div>
            </div>
            <div class="space-y-2">
              <h1 class="text-4xl font-bold tracking-tighter uppercase italic">Host Session</h1>
              <p class="text-primary/60 font-medium max-w-xs mx-auto">Initialize a new secure game instance.</p>
            </div>
            <div class="w-full bg-surface-dark p-6 border-4 border-black space-y-6">
              <div class="flex flex-col gap-4">
                <label class="flex justify-between items-center text-xs font-bold uppercase text-white/40">
                  <span>Difficulty</span>
                  <select id="difficulty-select"
                    class="bg-surface-dark text-primary border-none text-xs font-bold uppercase focus:ring-0">
                    <option value="mudah">Mudah</option>
                    <option value="sedang">Sedang</option>
                    <option value="sulit">Sulit</option>
                  </select>
                </label>
                <label class="flex justify-between items-center text-xs font-bold uppercase text-white/40">
                  <span>Subject</span>
                  <select id="subject-select"
                    class="bg-surface-dark text-primary border-none text-xs font-bold uppercase focus:ring-0">
                    <option value="matematika">Matematika</option>
                    <option value="biologi">Biologi</option>
                    <option value="sejarah">Sejarah</option>
                    <option value="fisika">Fisika</option>
                    <option value="kimia">Kimia</option>
                    <option value="geografi">Geografi</option>
                  </select>
                </label>
              </div>
              <button id="create-room-btn"
                class="w-full h-16 bg-primary text-background-dark font-bold text-xl uppercase pixel-btn-green border-4 border-black active:translate-y-1 transition-transform">
                Create Room
              </button>
            </div>
          </div>
        </section>

        <!-- Join Room -->
        <section class="flex-1 flex flex-col items-center justify-center p-8 bg-surface-dark/50 relative">
          <div class="max-w-md w-full flex flex-col items-center text-center space-y-8">
            <div class="relative">
              <div class="w-32 h-32 bg-secondary/10 border-4 border-secondary flex items-center justify-center mb-4">
                <span class="material-symbols-outlined text-6xl text-secondary">login</span>
              </div>
            </div>
            <div class="space-y-2">
              <h1 class="text-4xl font-bold tracking-tighter uppercase italic">Join Session</h1>
              <p class="text-secondary/60 font-medium max-w-xs mx-auto">Enter the 6-digit access code.</p>
            </div>
            <div class="w-full bg-surface-dark p-6 border-4 border-black space-y-6">
              <div class="relative group">
                <input id="room-code-input"
                  class="w-full h-20 bg-background-dark border-4 border-white/10 focus:border-secondary focus:ring-0 text-center text-4xl font-bold tracking-[0.5em] text-secondary uppercase placeholder:text-white/10 transition-colors"
                  placeholder="000000" type="text" maxlength="6" />
                <div
                  class="absolute -top-3 left-4 px-2 bg-surface-dark text-[10px] font-bold text-secondary uppercase tracking-widest">
                  Room Access Code
                </div>
              </div>
              <button id="join-room-btn"
                class="w-full h-16 bg-secondary text-background-dark font-bold text-xl uppercase pixel-btn-blue border-4 border-black active:translate-y-1 transition-transform">
                Join Game
              </button>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- WAITING ROOM OVERLAY -->
  <div id="waiting-ui" class="bg-background-dark hidden fixed top-0 left-0 w-full h-screen z-20">
    <div class="fixed inset-0 pointer-events-none overflow-hidden pixel-bg-pattern"></div>

    <div class="relative z-10 flex h-screen w-full flex-col items-center justify-center p-8">
      <h1 class="text-4xl font-bold tracking-tighter uppercase italic text-white mb-8">WAITING ROOM</h1>

      <div class="w-full max-w-md bg-surface-dark p-8 border-4 border-black space-y-6 text-center">
        <div class="space-y-2">
          <p class="text-xs font-bold uppercase text-white/40">Room Access Code</p>
          <div id="display-room-code" class="text-6xl font-bold text-accent tracking-[0.2em] font-mono">Loading...</div>
        </div>

        <div class="h-[2px] bg-white/5 my-4"></div>

        <div class="text-left">
          <p class="text-xs font-bold uppercase text-white/40 mb-2">Connected Players</p>
          <ul id="player-list" class="space-y-2 text-lg font-medium text-white">
            <!-- Players will be injected here -->
          </ul>
        </div>

        <button id="start-game-btn"
          class="w-full h-16 bg-primary text-background-dark font-bold text-xl uppercase pixel-btn-green border-4 border-black hidden hover:brightness-110">
          START GAME
        </button>
        <div id="waiting-msg" class="text-white/50 animate-pulse text-sm uppercase">Waiting for host...</div>
      </div>
    </div>
  </div>

  <!-- MAIN SCRIPT -->
  <script type="module" src="/src/main.ts"></script>
</body>

</html>